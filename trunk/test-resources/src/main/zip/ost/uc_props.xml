<?xml version="1.0" encoding="ISO-8859-1"?>
<node name="Configuration" moduleName="COMP_ROOT" label="Configuration" isUC="True" type="ConfigurationFolder">
  <node name="Ostersundom_RC" moduleName="OSTERSUNDOM_RC" label="" isUC="True" type="GenericAprosComposite">
    <node name="330" moduleName="330" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_12" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_12" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_12" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_12" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_12" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_12" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_12" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_12" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_12" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_12" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_25" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_25" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_25" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_12" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_12" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_14" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_13" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_13" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_13" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_13" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_13" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_13" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_13" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_14" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_13" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_13" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_13" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_13" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_13" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_12" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_12" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_12" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_12" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_12" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_12" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_12" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_24" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_12" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_85" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_85" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_85" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_85" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_12" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="331" moduleName="331" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_13" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_13" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_13" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_13" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_13" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_13" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_13" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_13" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_13" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_13" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_27" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_27" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_27" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_1" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_13" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_13" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_15" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_14" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_1" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_14" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_14" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_14" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_14" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_14" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_14" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_15" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_14" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_14" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_14" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_14" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_14" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_1" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_13" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_13" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_13" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_13" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_13" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_13" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_13" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_26" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_13" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_92" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_92" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_92" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_92" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_13" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="316" moduleName="316" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_7" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_7" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_7" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_7" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_7" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_7" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_7" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_7" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_7" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_7" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_15" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_15" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_15" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_2" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_7" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_7" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_8" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_8" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_2" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_8" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_8" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_8" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_8" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_8" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_8" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_8" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_8" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_8" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_8" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_8" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_8" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_2" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_7" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_7" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_7" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_7" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_7" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_7" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_7" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_14" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_7" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_50" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_50" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_50" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_50" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_7" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="317" moduleName="317" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_8" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_8" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_8" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_8" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_8" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_8" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_8" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_8" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_8" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_8" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_17" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_17" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_17" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_3" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_8" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_8" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_9" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_9" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_3" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_9" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_9" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_9" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_9" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_9" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_9" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_9" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_9" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_9" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_9" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_9" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_9" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_3" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_8" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_8" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_8" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_8" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_8" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_8" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_8" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_16" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_8" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_57" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_57" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_57" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_57" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_8" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="217" moduleName="217" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_4" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_4" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_4" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_4" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_4" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_4" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_4" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_4" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_4" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_4" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_9" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_9" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_9" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_4" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_4" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_4" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_5" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_5" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_4" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_5" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_5" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_5" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_5" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_5" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_5" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_5" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_5" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_5" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_5" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_5" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_5" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_4" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_4" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_4" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_4" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_4" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_4" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_4" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_4" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_8" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_4" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_29" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_29" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_29" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_29" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_4" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="313" moduleName="313" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_6" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_6" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_6" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_6" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_6" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_6" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_6" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_6" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_6" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_6" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_13" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_13" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_13" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_5" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_6" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_6" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_7" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_7" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_5" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_7" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_7" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_7" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_7" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_7" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_7" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_7" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_7" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_7" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_7" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_7" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_7" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_5" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_6" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_6" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_6" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_6" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_6" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_6" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_6" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_12" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_6" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_43" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_43" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_43" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_43" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_6" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="327" moduleName="327" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_10" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_10" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_10" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_10" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_10" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_10" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_10" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_10" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_10" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_10" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_21" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_21" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_21" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_6" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_10" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_10" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_12" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_11" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_6" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_11" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_11" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_11" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_11" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_11" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_11" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_12" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_11" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_11" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_11" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_11" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_11" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_6" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_10" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_10" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_10" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_10" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_10" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_10" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_10" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_20" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_10" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_71" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_71" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_71" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_71" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_10" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="328" moduleName="328" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_11" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_11" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_11" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_11" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_11" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_11" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_11" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_11" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_11" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_11" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_23" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_23" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_23" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_7" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_11" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_11" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_13" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_12" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_7" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_12" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_12" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_12" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_12" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_12" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_12" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_13" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_12" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_12" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_12" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_12" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_12" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_7" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_11" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_11" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_11" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_11" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_11" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_11" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_11" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_22" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_11" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_78" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_78" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_78" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_78" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_11" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="323" moduleName="323" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_9" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_9" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_9" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_9" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_9" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_9" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_9" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_9" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_9" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_9" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_19" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_19" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_19" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_8" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_9" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_9" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_11" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_10" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_8" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_10" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_10" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_10" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_10" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_10" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_10" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_11" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_10" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_10" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_10" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_10" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_10" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_8" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_9" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_9" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_9" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_9" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_9" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_9" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_9" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_18" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_9" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_64" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_64" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_64" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_64" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_9" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="06" moduleName="06" label="" isUC="True" type="Thermal Storage +DH connection@1">
      <property type="constant" name="Connection_Pipe_diameter" value="10.0"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="T_DHN_min" value="45.0"/>
      <property type="constant" name="Tank_height" value="80.0"/>
      <property type="constant" name="Heat_transfer_eff" value="93.0"/>
      <property type="constant" name="T_DHN_max" value="85.0"/>
      <property type="constant" name="Nominal_HeatAndCool" value="5.0E9"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="35.0"/>
      <property type="constant" name="Tank_thickness_1" value="50.0"/>
      <property type="constant" name="Tank_thickness_2" value="100.0"/>
      <property type="constant" name="Tank_thickness_3" value="500.0"/>
      <node name="NO04" moduleName="NO04_17" label="" isUC="False" type="NODE_QF">
        <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
        <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
      </node>
      <node name="PIP06" moduleName="PIP06_16" label="" isUC="False" type="PIPE_QF">
        <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
      </node>
      <node name="MU29" moduleName="MU29_16" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
      </node>
      <node name="04" moduleName="04_16" label="" isUC="True" type="Thermal Storage HP boost@1">
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
        <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
        <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
        <node name="MU71" moduleName="MU71_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
        </node>
        <node name="MU70" moduleName="MU70_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
        </node>
        <node name="MU79" moduleName="MU79_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
        </node>
        <node name="MU80" moduleName="MU80_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
        </node>
        <node name="MU38" moduleName="MU38_16" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
        </node>
        <node name="HTA05" moduleName="HTA05_17" label="" isUC="False" type="HEAT_TANK_QF">
          <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
          <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
          <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
          <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
          <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
          <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
          <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
        </node>
        <node name="MU59" moduleName="MU59_16" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
        </node>
        <node name="MU57" moduleName="MU57_16" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
        </node>
        <node name="MU55" moduleName="MU55_16" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="MU67" moduleName="MU67_16" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
        </node>
        <node name="MU69" moduleName="MU69_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
      </node>
      <node name="MU10" moduleName="MU10_16" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
      </node>
    </node>
    <node name="07" moduleName="07" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_2" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_2" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_2" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_2" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_2" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_2" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_2" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_2" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_2" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_2" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_5" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_5" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_5" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_9" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_2" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_2" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_3" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_3" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_9" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_3" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_3" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_3" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_3" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_3" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_3" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_3" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_3" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_3" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_3" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_3" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_3" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_9" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_2" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_2" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_2" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_2" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_2" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_2" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_2" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_4" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_2" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_15" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_15" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_15" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_15" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_2" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="01" moduleName="01" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="8000.0"/>
      <property type="constant" name="T_DHN_min" value="45.0"/>
      <property type="constant" name="Julkkiset_m2" value="5000.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="52000.0"/>
      <property type="constant" name="Pientalot_m2" value="43000.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="5.0"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="20000.0"/>
      <property type="constant" name="Tank_height" value="10.0"/>
      <property type="constant" name="SolarPV_m2" value="250.0"/>
      <property type="constant" name="Elinkeino_m2" value="182000.0"/>
      <property type="constant" name="Liiketilat_m2" value="2000.0"/>
      <property type="constant" name="T_DHN_max" value="85.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="130.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="35.0"/>
      <node name="285" moduleName="285" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_1" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_1" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_1" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_10" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_1" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_1" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_10" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_1" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_1" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_1" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_1" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_1" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_1" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_1" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_1" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_1" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_1" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_1" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_1" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_10" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_1" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_1" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_1" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_1" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="02" moduleName="02" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="272000.0"/>
      <property type="constant" name="T_DHN_min" value="45.0"/>
      <property type="constant" name="Julkkiset_m2" value="30000.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="183000.0"/>
      <property type="constant" name="Pientalot_m2" value="43000.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="5.0"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="30000.0"/>
      <property type="constant" name="Tank_height" value="15.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="97000.0"/>
      <property type="constant" name="Liiketilat_m2" value="68000.0"/>
      <property type="constant" name="T_DHN_max" value="85.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="130.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="35.0"/>
      <node name="285" moduleName="285_1" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_1" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_1" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_1" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_1" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_1" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_1" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_1" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_1" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_1" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_3" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_3" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_3" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_11" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_1" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_1" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_2" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_2" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_11" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_2" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_2" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_2" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_2" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_2" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_2" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_2" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_2" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_2" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_2" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_2" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_2" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_11" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_1" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_1" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_1" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_1" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_1" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_1" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_1" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_2" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_1" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_8" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_8" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_8" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_8" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_1" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="CHPICE01" moduleName="CHPICE01" label="" isUC="True" type="CHP microGT_Thermal_controlled@1">
      <property type="constant" name="Minimum_Duty" value="5.0"/>
      <property type="constant" name="Electrical_Power_Rating" value="100.0"/>
      <property type="constant" name="Thermal_Power_Rating" value="2000.0"/>
      <property type="constant" name="Shutdown_Time" value="5.0"/>
      <property type="constant" name="Startup_Time" value="5.0"/>
      <property type="constant" name="Supply_hot_water_temperature" value="80.0"/>
      <property type="constant" name="Power_Deadband" value="0.05"/>
      <property type="constant" name="Nominal_LHV" value="47750.0"/>
      <property type="constant" name="Reference_Ambient_Temperature" value="16.85"/>
      <property type="constant" name="Rate_Limit" value="1.0"/>
      <property type="constant" name="Fuel_Correction_Factor" value="-8.0E-4"/>
      <property type="constant" name="Fuel_Rating" value="0.0073"/>
      <property type="constant" name="Auxiliaries_Power" value="-8.0"/>
      <property type="constant" name="Cp_water" value="4.19"/>
      <property type="constant" name="Thermal_Power_Correction_Factor" value="0.0119"/>
      <property type="constant" name="Electrical_Power_Correction_Factor" value="-0.0092"/>
      <node name="MU_51" moduleName="MU_51_15" label="k (th)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Cp_water"/>
      </node>
      <node name="MU_52" moduleName="MU_52" label="k (th)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Supply_hot_water_temperature"/>
      </node>
      <node name="MU_25" moduleName="MU_25_15" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Electrical_Power_Correction_Factor"/>
      </node>
      <node name="MU_26" moduleName="MU_26_15" label="k (th)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Thermal_Power_Correction_Factor"/>
      </node>
      <node name="MU_23" moduleName="MU_23_15" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Reference_Ambient_Temperature"/>
      </node>
      <node name="MU_27" moduleName="MU_27_15" label="k (fuel)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Fuel_Correction_Factor"/>
      </node>
      <node name="MU_22" moduleName="MU_22_15" label="Fuel Rating" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Fuel_Rating"/>
      </node>
      <node name="MU_19" moduleName="MU_19" label="Ther Rating" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Thermal_Power_Rating"/>
      </node>
      <node name="MU_49" moduleName="MU_49_30" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Minimum_Duty"/>
      </node>
      <node name="MU_47" moduleName="MU_47_15" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Rate_Limit/100"/>
      </node>
      <node name="MU_48" moduleName="MU_48_30" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Auxiliaries_Power"/>
      </node>
      <node name="MU_45" moduleName="MU_45_15" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Shutdown_Time"/>
      </node>
      <node name="MU_46" moduleName="MU_46_30" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Power_Deadband"/>
      </node>
      <node name="MU_43" moduleName="MU_43_15" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Electrical_Power_Rating"/>
      </node>
      <node name="MU_44" moduleName="MU_44_15" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Startup_Time"/>
      </node>
      <node name="MU_39" moduleName="MU_39_15" label="Fuel Rating" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_LHV"/>
      </node>
    </node>
    <node name="437" moduleName="437" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_2" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_2" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_2" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="305" moduleName="305" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_5" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_5" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_5" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_5" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_5" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_5" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_5" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_5" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_5" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_5" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_11" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_11" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_11" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_12" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_5" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_5" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_6" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_6" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_12" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_6" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_6" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_6" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_6" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_6" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_6" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_6" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_6" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_6" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_6" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_6" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_6" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_12" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_5" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_5" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_5" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_5" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_5" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_5" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_5" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_10" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_5" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_36" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_36" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_36" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_36" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_5" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="447" moduleName="447" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_3" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_3" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_3" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="487" moduleName="487" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_10" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_10" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_10" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="484" moduleName="484" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_9" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_9" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_9" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="473" moduleName="473" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_6" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_6" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_6" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="478" moduleName="478" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_8" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_8" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_8" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="477" moduleName="477" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_7" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_7" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_7" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="470" moduleName="470" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_4" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_4" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_4" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="471" moduleName="471" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_5" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_5" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_5" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="99" moduleName="99" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_3" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_3" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_3" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_3" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_3" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_3" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_3" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_3" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_3" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_3" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_7" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_7" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_7" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_13" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_3" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_3" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_4" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_4" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_13" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_4" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_4" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_4" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_4" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_4" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_4" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_4" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_4" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_4" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_4" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_4" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_4" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_13" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_3" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_3" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_3" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_3" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_3" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_3" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_3" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_6" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_3" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34_22" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35_22" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36_22" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37_22" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_3" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
    <node name="495" moduleName="495" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_11" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_11" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_11" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="497" moduleName="497" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_12" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_12" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_12" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="504" moduleName="504" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_13" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_13" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_13" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="375" moduleName="375" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45_1" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46_1" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47_1" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
    <node name="365" moduleName="365" label="" isUC="True" type="Transfer_losses_calculator@1">
      <property type="constant" name="Ins_ratio" value="2.0"/>
      <property type="constant" name="Pip_Length" value="2000.0"/>
      <property type="constant" name="T_Ground" value="9.0"/>
      <property type="constant" name="Pip_Diamter" value="0.5"/>
      <property type="constant" name="Lambda" value="0.148"/>
      <node name="MU45" moduleName="MU45" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
      </node>
      <node name="MU46" moduleName="MU46" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
      </node>
      <node name="MU47" moduleName="MU47" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
      </node>
    </node>
  </node>
  <node name="Ostersundom_BIG" moduleName="OSTERSUNDOM_BIG" label="" isUC="True" type="GenericAprosComposite">
    <node name="BIG" moduleName="BIG" label="" isUC="True" type="Ostersundom_BIG@1">
      <property type="constant" name="A2Storage_h" value="15.0"/>
      <property type="constant" name="A2_Solarth_m2" value="0.0"/>
      <property type="constant" name="A1_Solarth_m2" value="0.0"/>
      <property type="constant" name="Central_storage_h" value="80.0"/>
      <property type="constant" name="A1_Storage_h" value="10.0"/>
      <node name="531" moduleName="531" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_15" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_15" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_15" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_15" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_15" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_15" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_15" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_15" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_15" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_15" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_31" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_31" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_31" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_15" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_16" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_15" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_18" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_17" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_17" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_17" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_17" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_17" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_17" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_17" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_17" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_18" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_17" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_17" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_17" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_17" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_17" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_17" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_15" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_16" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_16" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_16" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_16" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_16" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_16" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_32" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_16" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_3" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_3" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_3" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_3" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_15" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="530" moduleName="530" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_14" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_14" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_14" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="535" moduleName="535" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_16" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_16" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_16" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_16" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_16" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_16" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_16" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_16" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_16" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_16" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_33" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_33" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_33" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_16" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_17" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_16" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_19" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_18" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_18" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_18" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_18" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_18" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_18" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_18" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_18" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_19" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_18" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_18" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_18" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_18" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_18" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_18" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_16" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_17" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_17" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_17" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_17" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_17" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_17" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_34" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_17" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_4" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_4" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_4" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_4" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_16" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="534" moduleName="534" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_17" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_17" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_17" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_17" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_17" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_17" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_17" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_17" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_17" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_17" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_35" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_35" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_35" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_17" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_18" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_17" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_20" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_19" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_19" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_19" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_19" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_19" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_19" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_19" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_19" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_20" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_19" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_19" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_19" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_19" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_19" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_19" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_17" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_18" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_18" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_18" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_18" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_18" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_18" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_36" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_18" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_5" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_5" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_5" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_5" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_17" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="533" moduleName="533" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_15" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_15" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_15" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="532" moduleName="532" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_16" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_16" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_16" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="539" moduleName="539" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_18" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_18" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_18" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_18" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_18" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_18" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_18" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_18" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_18" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_18" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_37" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_37" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_37" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_18" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_19" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_18" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_21" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_20" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_20" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_20" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_20" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_20" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_20" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_20" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_20" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_21" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_20" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_20" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_20" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_20" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_20" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_20" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_18" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_19" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_19" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_19" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_19" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_19" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_19" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_38" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_19" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_6" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_6" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_6" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_6" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_18" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="538" moduleName="538" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_19" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_19" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_19" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_19" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_19" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_19" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_19" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_19" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_19" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_19" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_39" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_39" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_39" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_19" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_20" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_19" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_22" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_21" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_21" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_21" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_21" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_21" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_21" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_21" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_21" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_22" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_21" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_21" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_21" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_21" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_21" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_21" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_19" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_20" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_20" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_20" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_20" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_20" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_20" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_40" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_20" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_7" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_7" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_7" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_7" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_19" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="536" moduleName="536" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_20" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_20" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_20" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_20" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_20" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_20" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_20" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_20" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_20" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_20" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_41" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_41" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_41" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_20" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_21" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_20" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_23" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_22" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_22" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_22" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_22" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_22" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_22" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_22" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_22" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_23" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_22" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_22" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_22" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_22" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_22" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_22" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_20" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_21" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_21" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_21" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_21" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_21" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_21" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_42" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_21" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_9" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_9" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_9" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_9" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_20" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="542" moduleName="542" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_17" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_17" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_17" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="544" moduleName="544" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_21" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_21" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_21" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_21" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_21" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_21" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_21" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_21" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_21" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_21" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_43" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_43" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_43" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_21" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_22" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_21" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_24" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_23" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_23" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_23" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_23" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_23" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_23" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_23" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_23" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_24" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_23" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_23" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_23" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_23" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_23" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_23" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_21" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_22" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_22" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_22" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_22" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_22" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_22" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_44" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_22" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_10" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_10" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_10" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_10" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_21" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="543" moduleName="543" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_22" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_22" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_22" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_22" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_22" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_22" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_22" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_22" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_22" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_22" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_45" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_45" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_45" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_22" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_23" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_22" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_25" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_24" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_24" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_24" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_24" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_24" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_24" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_24" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_24" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_25" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_24" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_24" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_24" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_24" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_24" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_24" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_22" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_23" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_23" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_23" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_23" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_23" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_23" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_46" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_23" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_11" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_11" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_11" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_11" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_22" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="546" moduleName="546" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_23" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_23" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_23" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_23" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_23" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_23" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_23" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_23" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_23" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_23" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_47" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_47" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_47" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_23" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_24" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_23" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_26" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_25" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_25" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_25" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_25" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_25" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_25" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_25" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_25" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_26" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_25" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_25" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_25" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_25" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_25" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_25" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_23" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_24" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_24" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_24" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_24" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_24" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_24" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_48" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_24" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_12" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_12" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_12" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_12" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_23" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="545" moduleName="545" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_18" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_18" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_18" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="513" moduleName="513" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_19" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_19" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_19" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="512" moduleName="512" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_24" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_24" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_24" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_24" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_24" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_24" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_24" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_24" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_24" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_24" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_49" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_49" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_49" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_24" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_25" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_24" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_27" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_26" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_26" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_26" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_26" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_26" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_26" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_26" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_26" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_27" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_26" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_26" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_26" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_26" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_26" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_26" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_24" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_25" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_25" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_25" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_25" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_25" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_25" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_50" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_25" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_13" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_13" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_13" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_13" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_24" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="511" moduleName="511" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_20" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_20" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_20" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="515" moduleName="515" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_21" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_21" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_21" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="514" moduleName="514" label="" isUC="True" type="Thermal Storage +DH connection@1">
        <property type="constant" name="Connection_Pipe_diameter" value="10.0"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="T_DHN_min" value="45.0"/>
        <property type="expression" name="Tank_height" value="Central_storage_h"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="constant" name="T_DHN_max" value="85.0"/>
        <property type="constant" name="Nominal_HeatAndCool" value="5.0E9"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="35.0"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_28" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_27" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_27" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_27" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_27" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_27" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_27" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_27" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_28" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_27" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_27" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_27" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_27" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_27" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="522" moduleName="522" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_22" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_22" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_22" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="521" moduleName="521" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="8000.0"/>
        <property type="constant" name="T_DHN_min" value="45.0"/>
        <property type="constant" name="Julkkiset_m2" value="5000.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="52000.0"/>
        <property type="constant" name="Pientalot_m2" value="43000.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="5.0"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="expression" name="SolarTH_m2" value="A1_Solarth_m2"/>
        <property type="expression" name="Tank_height" value="A1_Storage_h"/>
        <property type="constant" name="SolarPV_m2" value="250.0"/>
        <property type="constant" name="Elinkeino_m2" value="182000.0"/>
        <property type="constant" name="Liiketilat_m2" value="2000.0"/>
        <property type="constant" name="T_DHN_max" value="85.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="130.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="35.0"/>
        <node name="285" moduleName="285_25" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_25" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_25" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_25" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_25" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_25" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_25" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_25" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_25" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_25" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_51" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_51" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_51" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_25" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_26" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_25" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_29" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_28" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_28" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_28" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_28" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_28" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_28" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_28" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_28" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_29" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_28" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_28" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_28" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_28" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_28" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_28" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_25" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_26" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_26" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_26" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_26" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_26" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_26" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_52" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_26" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_14" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_14" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_14" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_14" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_25" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="524" moduleName="524" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_23" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_23" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_23" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="523" moduleName="523" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_24" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_24" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_24" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="520" moduleName="520" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_26" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_26" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_26" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_26" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_26" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_26" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_26" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_26" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_26" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_26" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_53" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_53" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_53" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_26" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_27" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_26" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_30" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_29" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_29" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_29" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_29" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_29" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_29" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_29" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_29" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_30" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_29" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_29" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_29" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_29" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_29" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_29" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_26" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_27" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_27" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_27" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_27" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_27" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_27" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_54" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_27" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_16" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_16" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_16" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_16" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_26" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="529" moduleName="529" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_25" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_25" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_25" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="526" moduleName="526" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_26" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_26" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_26" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="528" moduleName="528" label="" isUC="True" type="Transfer_losses_calculator@1">
        <property type="constant" name="Ins_ratio" value="2.0"/>
        <property type="constant" name="Pip_Length" value="2000.0"/>
        <property type="constant" name="T_Ground" value="9.0"/>
        <property type="constant" name="Pip_Diamter" value="0.5"/>
        <property type="constant" name="Lambda" value="0.148"/>
        <node name="MU45" moduleName="MU45_27" label="Lamda/(pipD)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Ins_ratio*(Pip_Diamter/2)"/>
        </node>
        <node name="MU46" moduleName="MU46_27" label="Ground T" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Ground"/>
        </node>
        <node name="MU47" moduleName="MU47_27" label="Lambda" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Lambda"/>
        </node>
      </node>
      <node name="527" moduleName="527" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="272000.0"/>
        <property type="constant" name="T_DHN_min" value="45.0"/>
        <property type="constant" name="Julkkiset_m2" value="30000.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="183000.0"/>
        <property type="constant" name="Pientalot_m2" value="43000.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="5.0"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="expression" name="SolarTH_m2" value="A2_Solarth_m2"/>
        <property type="expression" name="Tank_height" value="A2Storage_h"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="97000.0"/>
        <property type="constant" name="Liiketilat_m2" value="68000.0"/>
        <property type="constant" name="T_DHN_max" value="85.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="130.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="35.0"/>
        <node name="285" moduleName="285_27" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_27" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_27" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_27" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_27" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_27" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_27" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_27" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_27" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_27" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_55" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_55" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_55" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_27" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_28" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_27" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_31" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_30" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_30" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_30" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_30" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_30" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_30" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_30" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_30" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_31" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_30" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_30" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_30" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_30" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_30" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_30" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_27" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_28" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_28" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_28" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_28" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_28" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_28" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_56" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_28" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_17" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_17" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_17" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_17" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_27" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
      <node name="CHPICE02" moduleName="CHPICE02" label="" isUC="True" type="CHP microGT_Thermal_controlled@1">
        <property type="constant" name="Minimum_Duty" value="5.0"/>
        <property type="constant" name="Electrical_Power_Rating" value="100.0"/>
        <property type="constant" name="Thermal_Power_Rating" value="2000.0"/>
        <property type="constant" name="Shutdown_Time" value="5.0"/>
        <property type="constant" name="Startup_Time" value="5.0"/>
        <property type="constant" name="Supply_hot_water_temperature" value="80.0"/>
        <property type="constant" name="Power_Deadband" value="0.05"/>
        <property type="constant" name="Nominal_LHV" value="47750.0"/>
        <property type="constant" name="Reference_Ambient_Temperature" value="16.85"/>
        <property type="constant" name="Rate_Limit" value="1.0"/>
        <property type="constant" name="Fuel_Correction_Factor" value="-8.0E-4"/>
        <property type="constant" name="Fuel_Rating" value="0.0073"/>
        <property type="constant" name="Auxiliaries_Power" value="-8.0"/>
        <property type="constant" name="Cp_water" value="4.19"/>
        <property type="constant" name="Thermal_Power_Correction_Factor" value="0.0119"/>
        <property type="constant" name="Electrical_Power_Correction_Factor" value="-0.0092"/>
        <node name="MU_51" moduleName="MU_51_29" label="k (th)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Cp_water"/>
        </node>
        <node name="MU_52" moduleName="MU_52_1" label="k (th)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Supply_hot_water_temperature"/>
        </node>
        <node name="MU_25" moduleName="MU_25_29" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Electrical_Power_Correction_Factor"/>
        </node>
        <node name="MU_26" moduleName="MU_26_29" label="k (th)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Thermal_Power_Correction_Factor"/>
        </node>
        <node name="MU_23" moduleName="MU_23_29" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Reference_Ambient_Temperature"/>
        </node>
        <node name="MU_27" moduleName="MU_27_29" label="k (fuel)" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Fuel_Correction_Factor"/>
        </node>
        <node name="MU_22" moduleName="MU_22_29" label="Fuel Rating" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Fuel_Rating"/>
        </node>
        <node name="MU_19" moduleName="MU_19_1" label="Ther Rating" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Thermal_Power_Rating"/>
        </node>
        <node name="MU_49" moduleName="MU_49_57" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Minimum_Duty"/>
        </node>
        <node name="MU_47" moduleName="MU_47_29" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Rate_Limit/100"/>
        </node>
        <node name="MU_48" moduleName="MU_48_57" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Auxiliaries_Power"/>
        </node>
        <node name="MU_45" moduleName="MU_45_29" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Shutdown_Time"/>
        </node>
        <node name="MU_46" moduleName="MU_46_57" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Power_Deadband"/>
        </node>
        <node name="MU_43" moduleName="MU_43_29" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Electrical_Power_Rating"/>
        </node>
        <node name="MU_44" moduleName="MU_44_29" label="ElPowRate" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Startup_Time"/>
        </node>
        <node name="MU_39" moduleName="MU_39_29" label="Fuel Rating" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_LHV"/>
        </node>
      </node>
      <node name="505" moduleName="505" label="" isUC="True" type="CityOpt_District@1">
        <property type="constant" name="Kerrostalo_m2" value="1.0"/>
        <property type="constant" name="T_DHN_min" value="60.0"/>
        <property type="constant" name="Julkkiset_m2" value="1.0"/>
        <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
        <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
        <property type="constant" name="Pientalot_m2" value="1.0"/>
        <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
        <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
        <property type="constant" name="SolarTH_m2" value="0.0"/>
        <property type="constant" name="Tank_height" value="8.0"/>
        <property type="constant" name="SolarPV_m2" value="0.0"/>
        <property type="constant" name="Elinkeino_m2" value="1.0"/>
        <property type="constant" name="Liiketilat_m2" value="1.0"/>
        <property type="constant" name="T_DHN_max" value="120.0"/>
        <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
        <property type="constant" name="T_Storage_max" value="120.0"/>
        <property type="constant" name="T_Storage_min" value="20.0"/>
        <node name="285" moduleName="285_28" label="" isUC="True" type="B.Solar irradiation_mod@1">
          <property type="constant" name="PV_orientation" value="0.0"/>
          <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
          <property type="constant" name="south_wall_angle" value="0.0"/>
          <property type="constant" name="PV_tilt_angle" value="45.0"/>
          <property type="constant" name="TH_collector_orientation" value="0.0"/>
          <node name="SOI01" moduleName="SOI01_28" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
          </node>
          <node name="SOI10" moduleName="SOI10_28" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
          </node>
          <node name="SOI09" moduleName="SOI09_28" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
          </node>
          <node name="SOI07" moduleName="SOI07_28" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
          </node>
          <node name="SOI08" moduleName="SOI08_28" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
          </node>
          <node name="SOI06" moduleName="SOI06_28" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
            <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
          </node>
        </node>
        <node name="MU133" moduleName="MU133_28" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU134" moduleName="MU134_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU135" moduleName="MU135_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU138" moduleName="MU138_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU139" moduleName="MU139_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU129" moduleName="MU129_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="274" moduleName="274_28" label="" isUC="True" type="PV2@1">
          <property type="expression" name="A2" value="SolarPV_m2"/>
          <property type="constant" name="n_module" value="0.17"/>
          <property type="expression" name="A1" value="SolarPV_m2"/>
          <property type="constant" name="beta" value="0.003"/>
          <property type="constant" name="equation" value="1"/>
          <property type="constant" name="Cirr" value="1.0"/>
          <property type="constant" name="t" value="0.0"/>
          <property type="constant" name="n_inverter" value="0.97"/>
          <node name="MU_60" moduleName="MU_60_28" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
          </node>
          <node name="MU_49" moduleName="MU_49_58" label="beta" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
          </node>
          <node name="MU_48" moduleName="MU_48_58" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
          </node>
          <node name="MU_46" moduleName="MU_46_58" label="n_module" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
          </node>
          <node name="MU31" moduleName="MU31_28" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
          <node name="MU01" moduleName="MU01_30" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
          </node>
        </node>
        <node name="MU123" moduleName="MU123_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU124" moduleName="MU124_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU125" moduleName="MU125_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU126" moduleName="MU126_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="MU118" moduleName="MU118_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU119" moduleName="MU119_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU99" moduleName="MU99_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
        </node>
        <node name="MU115" moduleName="MU115_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU150" moduleName="MU150_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
        </node>
        <node name="MU151" moduleName="MU151_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
        </node>
        <node name="MU117" moduleName="MU117_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU152" moduleName="MU152_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU153" moduleName="MU153_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU154" moduleName="MU154_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU155" moduleName="MU155_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
        <node name="08" moduleName="08_28" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
          <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="constant" name="Heat_transfer_eff" value="93.0"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="constant" name="Tank_thickness_1" value="50.0"/>
          <property type="constant" name="Tank_thickness_2" value="100.0"/>
          <property type="constant" name="Tank_thickness_3" value="500.0"/>
          <node name="NO04" moduleName="NO04_32" label="" isUC="False" type="NODE_QF">
            <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
            <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
          </node>
          <node name="PIP06" moduleName="PIP06_31" label="" isUC="False" type="PIPE_QF">
            <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
          </node>
          <node name="MU29" moduleName="MU29_31" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="04" moduleName="04_31" label="" isUC="True" type="Thermal Storage HP boost@1">
            <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
            <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
            <property type="expression" name="Tank_height" value="Tank_height"/>
            <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
            <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
            <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
            <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
            <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
            <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
            <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
            <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
            <node name="MU71" moduleName="MU71_31" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
            </node>
            <node name="MU70" moduleName="MU70_31" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="MU79" moduleName="MU79_31" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
            </node>
            <node name="MU80" moduleName="MU80_31" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
            </node>
            <node name="MU38" moduleName="MU38_31" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
            </node>
            <node name="HTA05" moduleName="HTA05_32" label="" isUC="False" type="HEAT_TANK_QF">
              <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
              <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
              <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
              <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
              <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
              <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
              <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
            </node>
            <node name="MU59" moduleName="MU59_31" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
            </node>
            <node name="MU57" moduleName="MU57_31" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
            </node>
            <node name="MU55" moduleName="MU55_31" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
            <node name="MU67" moduleName="MU67_31" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
            </node>
            <node name="MU69" moduleName="MU69_31" label="" isUC="False" type="MULTIPLYER_QF2">
              <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
            </node>
          </node>
          <node name="MU10" moduleName="MU10_31" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
          </node>
        </node>
        <node name="09" moduleName="09_28" label="" isUC="True" type="solar_collector_3eq_modified@1">
          <property type="constant" name="n0" value="0.726"/>
          <property type="expression" name="A" value="SolarTH_m2"/>
          <property type="constant" name="sigma" value="0.0"/>
          <property type="constant" name="b0" value="0.0"/>
          <property type="constant" name="c6" value="0.0"/>
          <property type="constant" name="c5" value="0.0"/>
          <property type="constant" name="c4" value="0.0"/>
          <property type="constant" name="c3" value="0.0"/>
          <property type="constant" name="c1" value="4.7"/>
          <property type="constant" name="c2" value="0.02"/>
          <property type="constant" name="Kd" value="0.0"/>
          <property type="constant" name="eq" value="0.0"/>
          <node name="MU_51" moduleName="MU_51_30" label="eq" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
          </node>
          <node name="MU_50" moduleName="MU_50_30" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
            <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
          </node>
          <node name="MU_27" moduleName="MU_27_30" label="b0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
          </node>
          <node name="MU_22" moduleName="MU_22_30" label="c5" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
          </node>
          <node name="MU_47" moduleName="MU_47_30" label="c4" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
          </node>
          <node name="MU_43" moduleName="MU_43_30" label="c3" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
          </node>
          <node name="MU_40" moduleName="MU_40_59" label="c6" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
          </node>
          <node name="MU_39" moduleName="MU_39_30" label="Kd" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
          </node>
          <node name="MU_34" moduleName="MU_34_19" label="n0" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
          </node>
          <node name="MU_35" moduleName="MU_35_19" label="c1" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
          </node>
          <node name="MU_36" moduleName="MU_36_19" label="c2" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
          </node>
          <node name="MU_37" moduleName="MU_37_19" label="A" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
          </node>
        </node>
        <node name="MU141" moduleName="MU141_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
        </node>
        <node name="MU142" moduleName="MU142_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
        </node>
        <node name="MU140" moduleName="MU140_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
        </node>
        <node name="MU149" moduleName="MU149_28" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
        </node>
      </node>
    </node>
  </node>
  <node name="NewGenericDiagram" moduleName="NEWGENERICDIAGRAM" label="" isUC="True" type="GenericAprosComposite">
    <node name="05" moduleName="05" label="" isUC="True" type="CityOpt_District@1">
      <property type="constant" name="Kerrostalo_m2" value="1.0"/>
      <property type="constant" name="T_DHN_min" value="60.0"/>
      <property type="constant" name="Julkkiset_m2" value="1.0"/>
      <property type="constant" name="AHU_Powercoefficient" value="0.3"/>
      <property type="constant" name="KaupunkiPientalo_m2" value="1.0"/>
      <property type="constant" name="Pientalot_m2" value="1.0"/>
      <property type="constant" name="Connection_Pipe_diameter" value="0.5"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="SolarTH_m2" value="0.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="SolarPV_m2" value="0.0"/>
      <property type="constant" name="Elinkeino_m2" value="1.0"/>
      <property type="constant" name="Liiketilat_m2" value="1.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="SolarTH_temp_out_max" value="60.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <node name="285" moduleName="285_14" label="" isUC="True" type="B.Solar irradiation_mod@1">
        <property type="constant" name="PV_orientation" value="0.0"/>
        <property type="constant" name="TH_collector_tilt_angle" value="45.0"/>
        <property type="constant" name="south_wall_angle" value="0.0"/>
        <property type="constant" name="PV_tilt_angle" value="45.0"/>
        <property type="constant" name="TH_collector_orientation" value="0.0"/>
        <node name="SOI01" moduleName="SOI01_14" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="TH_collector_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="TH_collector_orientation"/>
        </node>
        <node name="SOI10" moduleName="SOI10_14" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle+180-ceil(floor((south_wall_angle+180)/180)/2)*360"/>
        </node>
        <node name="SOI09" moduleName="SOI09_14" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="90+south_wall_angle-ceil(floor((south_wall_angle+90)/180)/2)*360"/>
        </node>
        <node name="SOI07" moduleName="SOI07_14" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="south_wall_angle"/>
        </node>
        <node name="SOI08" moduleName="SOI08_14" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_TILT_ANGLE" value="PV_tilt_angle"/>
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="PV_orientation"/>
        </node>
        <node name="SOI06" moduleName="SOI06_14" label="" isUC="False" type="SOLAR_IRR_PROCESSOR">
          <property type="expression" name="SOL_IRR_TRACK_AZIMUTH" value="(south_wall_angle-90)-ceil(floor((south_wall_angle-90)/180)/2)*360"/>
        </node>
      </node>
      <node name="MU133" moduleName="MU133_14" label="Convert hot water strem to energy" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU134" moduleName="MU134_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU135" moduleName="MU135_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU138" moduleName="MU138_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU139" moduleName="MU139_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU129" moduleName="MU129_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="274" moduleName="274_14" label="" isUC="True" type="PV2@1">
        <property type="expression" name="A2" value="SolarPV_m2"/>
        <property type="constant" name="n_module" value="0.17"/>
        <property type="expression" name="A1" value="SolarPV_m2"/>
        <property type="constant" name="beta" value="0.003"/>
        <property type="constant" name="equation" value="1"/>
        <property type="constant" name="Cirr" value="1.0"/>
        <property type="constant" name="t" value="0.0"/>
        <property type="constant" name="n_inverter" value="0.97"/>
        <node name="MU_60" moduleName="MU_60_14" label="n_inverter" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_inverter"/>
        </node>
        <node name="MU_49" moduleName="MU_49_28" label="beta" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="beta"/>
        </node>
        <node name="MU_48" moduleName="MU_48_28" label="C_irr" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Cirr"/>
        </node>
        <node name="MU_46" moduleName="MU_46_28" label="n_module" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n_module"/>
        </node>
        <node name="MU31" moduleName="MU31_14" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
        <node name="MU01" moduleName="MU01_14" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A2"/>
        </node>
      </node>
      <node name="MU123" moduleName="MU123_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU124" moduleName="MU124_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU125" moduleName="MU125_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU126" moduleName="MU126_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="MU118" moduleName="MU118_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU119" moduleName="MU119_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU99" moduleName="MU99_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="SolarTH_temp_out_max"/>
      </node>
      <node name="MU115" moduleName="MU115_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU150" moduleName="MU150_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Pientalot_m2"/>
      </node>
      <node name="MU151" moduleName="MU151_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="KaupunkiPientalo_m2"/>
      </node>
      <node name="MU117" moduleName="MU117_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU152" moduleName="MU152_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU153" moduleName="MU153_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU154" moduleName="MU154_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU155" moduleName="MU155_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
      <node name="08" moduleName="08_14" label="Storage Tank for heating " isUC="True" type="Thermal Storage +DH connection@1">
        <property type="expression" name="Connection_Pipe_diameter" value="Connection_Pipe_diameter"/>
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="constant" name="Heat_transfer_eff" value="93.0"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="2*(12.5*Pientalot_m2+53*KaupunkiPientalo_m2+35* Kerrostalo_m2+55*Liiketilat_m2+57*Elinkeino_m2+50*Julkkiset_m2)/1000"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="constant" name="Tank_thickness_1" value="50.0"/>
        <property type="constant" name="Tank_thickness_2" value="100.0"/>
        <property type="constant" name="Tank_thickness_3" value="500.0"/>
        <node name="NO04" moduleName="NO04_16" label="" isUC="False" type="NODE_QF">
          <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
          <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
        </node>
        <node name="PIP06" moduleName="PIP06_15" label="" isUC="False" type="PIPE_QF">
          <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
        </node>
        <node name="MU29" moduleName="MU29_14" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="04" moduleName="04_15" label="" isUC="True" type="Thermal Storage HP boost@1">
          <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
          <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
          <property type="expression" name="Tank_height" value="Tank_height"/>
          <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
          <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
          <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
          <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
          <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
          <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
          <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
          <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
          <node name="MU71" moduleName="MU71_15" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
          </node>
          <node name="MU70" moduleName="MU70_15" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="MU79" moduleName="MU79_15" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
          </node>
          <node name="MU80" moduleName="MU80_15" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
          </node>
          <node name="MU38" moduleName="MU38_15" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
          </node>
          <node name="HTA05" moduleName="HTA05_16" label="" isUC="False" type="HEAT_TANK_QF">
            <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
            <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
            <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
            <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
            <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
            <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
            <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
          </node>
          <node name="MU59" moduleName="MU59_15" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
          </node>
          <node name="MU57" moduleName="MU57_15" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
          </node>
          <node name="MU55" moduleName="MU55_15" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
          <node name="MU67" moduleName="MU67_15" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
          </node>
          <node name="MU69" moduleName="MU69_15" label="" isUC="False" type="MULTIPLYER_QF2">
            <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
          </node>
        </node>
        <node name="MU10" moduleName="MU10_14" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
        </node>
      </node>
      <node name="09" moduleName="09_14" label="" isUC="True" type="solar_collector_3eq_modified@1">
        <property type="constant" name="n0" value="0.726"/>
        <property type="expression" name="A" value="SolarTH_m2"/>
        <property type="constant" name="sigma" value="0.0"/>
        <property type="constant" name="b0" value="0.0"/>
        <property type="constant" name="c6" value="0.0"/>
        <property type="constant" name="c5" value="0.0"/>
        <property type="constant" name="c4" value="0.0"/>
        <property type="constant" name="c3" value="0.0"/>
        <property type="constant" name="c1" value="4.7"/>
        <property type="constant" name="c2" value="0.02"/>
        <property type="constant" name="Kd" value="0.0"/>
        <property type="constant" name="eq" value="0.0"/>
        <node name="MU_51" moduleName="MU_51_14" label="eq" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="eq"/>
        </node>
        <node name="MU_50" moduleName="MU_50_14" label="^4*sigma" isUC="False" type="MULTIPLYER_QF">
          <property type="expression" name="MULTIPLYER_GAIN" value="sigma"/>
        </node>
        <node name="MU_27" moduleName="MU_27_14" label="b0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="b0"/>
        </node>
        <node name="MU_22" moduleName="MU_22_14" label="c5" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="c5"/>
        </node>
        <node name="MU_47" moduleName="MU_47_14" label="c4" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c4"/>
        </node>
        <node name="MU_43" moduleName="MU_43_14" label="c3" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c3"/>
        </node>
        <node name="MU_40" moduleName="MU_40_29" label="c6" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c6"/>
        </node>
        <node name="MU_39" moduleName="MU_39_14" label="Kd" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Kd"/>
        </node>
        <node name="MU_34" moduleName="MU_34" label="n0" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="n0"/>
        </node>
        <node name="MU_35" moduleName="MU_35" label="c1" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c1"/>
        </node>
        <node name="MU_36" moduleName="MU_36" label="c2" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="c2"/>
        </node>
        <node name="MU_37" moduleName="MU_37" label="A" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="A"/>
        </node>
      </node>
      <node name="MU141" moduleName="MU141_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Liiketilat_m2"/>
      </node>
      <node name="MU142" moduleName="MU142_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Elinkeino_m2"/>
      </node>
      <node name="MU140" moduleName="MU140_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Kerrostalo_m2"/>
      </node>
      <node name="MU149" moduleName="MU149_14" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_GAIN" value="Julkkiset_m2"/>
      </node>
    </node>
  </node>
  <node name="Ostersundom_CityOpt" moduleName="OSTERSUNDOM_CITYOPT" label="" isUC="True" type="GenericAprosComposite">
    <node name="03" moduleName="03" label="" isUC="True" type="Thermal Storage +DH connection@1">
      <property type="constant" name="Connection_Pipe_diameter" value="1.0"/>
      <property type="constant" name="Tank_Pressure_constant" value="0.2"/>
      <property type="constant" name="T_DHN_min" value="35.0"/>
      <property type="constant" name="Tank_height" value="8.0"/>
      <property type="constant" name="Heat_transfer_eff" value="93.0"/>
      <property type="constant" name="T_DHN_max" value="120.0"/>
      <property type="constant" name="Nominal_HeatAndCool" value="40.0"/>
      <property type="constant" name="T_Storage_max" value="120.0"/>
      <property type="constant" name="T_Storage_min" value="20.0"/>
      <property type="constant" name="Tank_thickness_1" value="50.0"/>
      <property type="constant" name="Tank_thickness_2" value="100.0"/>
      <property type="constant" name="Tank_thickness_3" value="500.0"/>
      <node name="NO04" moduleName="NO04" label="" isUC="False" type="NODE_QF">
        <property type="expression" name="NO_VOLUME" value="3.1416*(Tank_height/2)^2*Tank_height/20"/>
        <property type="expression" name="NO_AREA" value="3.1416*(Tank_height/2)^2/5"/>
      </node>
      <node name="PIP06" moduleName="PIP06" label="" isUC="False" type="PIPE_QF">
        <property type="expression" name="PI12_DIAMETER" value="Connection_Pipe_diameter"/>
      </node>
      <node name="MU29" moduleName="MU29_15" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
      </node>
      <node name="04" moduleName="04" label="" isUC="True" type="Thermal Storage HP boost@1">
        <property type="expression" name="Tank_Pressure_constant" value="Tank_Pressure_constant"/>
        <property type="expression" name="T_DHN_min" value="T_DHN_min"/>
        <property type="expression" name="Tank_height" value="Tank_height"/>
        <property type="expression" name="Heat_transfer_eff" value="Heat_transfer_eff"/>
        <property type="expression" name="T_DHN_max" value="T_DHN_max"/>
        <property type="expression" name="Nominal_HeatAndCool" value="Nominal_HeatAndCool"/>
        <property type="expression" name="T_Storage_max" value="T_Storage_max"/>
        <property type="expression" name="T_Storage_min" value="T_Storage_min"/>
        <property type="expression" name="Tank_thickness_1" value="Tank_thickness_1"/>
        <property type="expression" name="Tank_thickness_2" value="Tank_thickness_2"/>
        <property type="expression" name="Tank_thickness_3" value="Tank_thickness_3"/>
        <node name="MU71" moduleName="MU71" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_DHN_max"/>
        </node>
        <node name="MU70" moduleName="MU70" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
        </node>
        <node name="MU79" moduleName="MU79" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="-T_Storage_min"/>
        </node>
        <node name="MU80" moduleName="MU80" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="-T_DHN_min"/>
        </node>
        <node name="MU38" moduleName="MU38" label="minimum allowed T for DHN" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_max"/>
        </node>
        <node name="HTA05" moduleName="HTA05" label="" isUC="False" type="HEAT_TANK_QF">
          <property type="expression" name="TA13_LIQ_LEVEL" value="Tank_height"/>
          <property type="expression" name="TA13_HEIGHT" value="Tank_height"/>
          <property type="expression" name="TA13_AREA" value="3.1416*(Tank_height/2)^2"/>
          <property type="expression" name="TA13_HS_THICKNESS_3" value="Tank_thickness_3"/>
          <property type="expression" name="TA13_HS_THICKNESS_1" value="Tank_thickness_1"/>
          <property type="expression" name="TA13_HS_THICKNESS_2" value="Tank_thickness_2"/>
          <property type="expression" name="TA13_FIXED_PRESSURE" value="Tank_Pressure_constant"/>
        </node>
        <node name="MU59" moduleName="MU59" label="Maximum charge effect" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="Nominal_HeatAndCool"/>
        </node>
        <node name="MU57" moduleName="MU57" label="Heating(+)/Cooling(-) of DHN [kW]" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_GAIN" value="Heat_transfer_eff/100"/>
        </node>
        <node name="MU55" moduleName="MU55" label="minimum allowed T for storage" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
        <node name="MU67" moduleName="MU67" label="Maximum discharge effect" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="-Nominal_HeatAndCool"/>
        </node>
        <node name="MU69" moduleName="MU69" label="" isUC="False" type="MULTIPLYER_QF2">
          <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min"/>
        </node>
      </node>
      <node name="MU10" moduleName="MU10_15" label="" isUC="False" type="MULTIPLYER_QF2">
        <property type="expression" name="MULTIPLYER_BIAS" value="T_Storage_min+5"/>
      </node>
    </node>
  </node>
</node>
